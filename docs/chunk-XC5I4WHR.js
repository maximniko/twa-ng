import{b as B}from"./chunk-LYUI4WAN.js";import{e as I,f as S,h as y,m as C,n as F}from"./chunk-KGX5KJP2.js";import{a as w}from"./chunk-L2LZDF6K.js";import{Da as l,Gb as _,Jb as j,M as d,Oa as m,Sa as h,aa as a,ba as r,lb as v,oa as s,ob as f,wa as n,xa as c,xb as b,ya as p,zb as g}from"./chunk-B4RSPJCF.js";var A=(()=>{class o{constructor(t,e,i,u,E){this.activatedRoute=t,this.twa=e,this.router=i,this.formBuilder=u,this.service=E,this.transactionForm=this.formBuilder.group({})}ngOnInit(){this.twa.backButton(()=>this.router.navigate([this._backUrl])),this.twa.setMainButton({text:"Save",is_visible:!0,is_active:!0,has_shine_effect:!0},()=>this.save()),this.twa.setSecondaryButton({text:"Delete",is_visible:!0,is_active:!0,has_shine_effect:!0,position:"left"},()=>this.delete()),this.activatedRoute.data.subscribe(t=>this.transactionItem=t.categoryItem)}save(){if(this.transactionForm.invalid)return;let t=this.transactionForm.value;this.service.edit(Object.assign(this.transactionItem,t)).subscribe(()=>this.router.navigate([this._backUrl]))}delete(){this.service.delete(this.transactionItem).subscribe(t=>{t.status==f.NoContent&&this.router.navigate([this._backUrl])})}get _backUrl(){return j.chartCategory(this.transactionItem.category)}ngOnDestroy(){this.twa.visibleMainButton(!1),this.twa.visibleSecondaryButton(!1)}static{this.\u0275fac=function(e){return new(e||o)(r(b),r(w),r(g),r(C),r(_))}}static{this.\u0275cmp=d({type:o,selectors:[["ng-component"]],standalone:!0,features:[h],decls:7,vars:3,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[3,"ngSubmit","formGroup"],[3,"parentForm","transactionItem"],["type","submit"]],template:function(e,i){e&1&&(n(0,"section",0)(1,"h1"),m(2,"Edit"),c(),n(3,"form",1),l("ngSubmit",function(){return i.save()}),p(4,"transaction-inputs",2),n(5,"button",3),m(6,"save"),c()()()),e&2&&(a(3),s("formGroup",i.transactionForm),a(),s("parentForm",i.transactionForm)("transactionItem",i.transactionItem))},dependencies:[v,F,S,I,y,B],encapsulation:2})}}return o})();export{A as EditComponent};
