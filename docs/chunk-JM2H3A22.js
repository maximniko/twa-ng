import"./chunk-REWZPGI4.js";import{b as B}from"./chunk-3I5ZEYY2.js";import{e as I,f as S,h as C,m as y,n as F}from"./chunk-YPYB22BD.js";import{a as w}from"./chunk-25HDQFBC.js";import{Da as l,Gb as _,Jb as k,M as d,Oa as m,Sa as h,aa as a,ba as r,lb as v,oa as s,ob as f,wa as n,xa as c,xb as b,ya as p,zb as g}from"./chunk-7CQM3OHI.js";var V=(()=>{class o{constructor(t,e,i,u,j){this.activatedRoute=t,this.twa=e,this.router=i,this.formBuilder=u,this.service=j,this.transactionForm=this.formBuilder.group({})}ngOnInit(){this.twa.backButton(()=>this.router.navigate([this._backUrl])),this.twa.setSecondaryButton({text:"Delete",is_visible:!0,is_active:!0,has_shine_effect:!1,position:"left"},()=>this.delete()),this.twa.setMainButton({text:"Save",is_visible:!0,is_active:!0,has_shine_effect:!0},()=>this.save()),this.activatedRoute.data.subscribe(t=>this.transactionItem=t.categoryItem)}ngOnDestroy(){this.twa.backButton(()=>this.router.navigate([this._backUrl])),this.twa.visibleSecondaryButton(!1),this.twa.visibleMainButton(!1)}save(){if(this.transactionForm.invalid)return;let t=this.transactionForm.value;this.service.edit(Object.assign(this.transactionItem,t)).subscribe(()=>this.router.navigate([this._backUrl]))}delete(){this.service.delete(this.transactionItem).subscribe(t=>{t.status==f.NoContent&&this.router.navigate([this._backUrl])})}get _backUrl(){return k.chartCategory(this.transactionItem.category)}static{this.\u0275fac=function(e){return new(e||o)(r(b),r(w),r(g),r(y),r(_))}}static{this.\u0275cmp=d({type:o,selectors:[["ng-component"]],standalone:!0,features:[h],decls:8,vars:3,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[1,"p-3","pb-0"],[1,"text-center","h5"],[3,"ngSubmit","formGroup"],[3,"parentForm","transactionItem"],["type","submit"]],template:function(e,i){e&1&&(n(0,"section",0)(1,"div",1)(2,"span",2),m(3,"Edit"),c()(),n(4,"form",3),l("ngSubmit",function(){return i.save()}),p(5,"transaction-inputs",4),n(6,"button",5),m(7,"save"),c()()()),e&2&&(a(4),s("formGroup",i.transactionForm),a(),s("parentForm",i.transactionForm)("transactionItem",i.transactionItem))},dependencies:[v,F,S,I,C,B],encapsulation:2})}}return o})();export{V as EditComponent};
