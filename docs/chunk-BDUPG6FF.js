import{b as R,c as D,d as G,e as Q,f as N,g as O}from"./chunk-3EGG6VWK.js";import{a as B}from"./chunk-MW7TPTCG.js";import{a as M}from"./chunk-4CX7E7ZT.js";import{$ as C,Aa as j,Ca as p,E as s,F as n,N as u,S as a,T as m,U as h,V as v,W as b,Z as I,_ as w,aa as d,ca as F,ea as _,la as S,t as f,ta as E,va as V,x as g,y}from"./chunk-XRLNJI4C.js";var T=["form"],U=(()=>{let r=class r{constructor(i,t,e,o,l){this.activatedRoute=i,this.twa=t,this.router=e,this.formBuilder=o,this.service=l,this.submited=0,this.categoryForm=this.formBuilder.group({}),this.symbols=B}ngOnInit(){this.twa.backButton(()=>this.router.navigate([p.categoryViewId(this.categoryItem)])),this.twa.setMainButton({text:"Edit",is_visible:!0,is_active:!0,has_shine_effect:!0},()=>this.submit()),this.activatedRoute.data.subscribe(i=>this.categoryItem=i.categoryItem)}submit(){if(this.submited+=1,this.categoryForm.invalid)return;let i=this.categoryForm.value;this.service.edit(Object.assign(this.categoryItem,i)).subscribe(t=>this.router.navigate([p.categoryViewId(t)]))}ngOnDestroy(){this.twa.visibleMainButton(!1)}};r.\u0275fac=function(t){return new(t||r)(n(E),n(M),n(V),n(Q),n(j))},r.\u0275cmp=f({type:r,selectors:[["ng-component"]],viewQuery:function(t,e){if(t&1&&I(T,5),t&2){let o;w(o=C())&&(e.formElement=o.first)}},standalone:!0,features:[_],decls:8,vars:4,consts:[["formElement",""],[1,"section"],[3,"ngSubmit","formGroup"],[3,"parentForm","categoryItem"]],template:function(t,e){if(t&1){let o=v();a(0,"section",1)(1,"h1"),d(2,"Edit category"),m(),a(3,"p"),d(4),m(),a(5,"form",2,0),b("ngSubmit",function(){return g(o),y(e.submit())}),h(7,"category-inputs",3),m()()}t&2&&(s(4),F("submited: ",e.submited,""),s(),u("formGroup",e.categoryForm),s(2),u("parentForm",e.categoryForm)("categoryItem",e.categoryItem))},dependencies:[S,N,D,R,G,O],encapsulation:2});let c=r;return c})();export{U as EditComponent};
