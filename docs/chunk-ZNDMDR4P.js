import{a as D,b as T}from"./chunk-V6ZMKAML.js";import{e as S,f as w,h as k,m as A,n as M}from"./chunk-TQR2ECCA.js";import{a as B}from"./chunk-6HWPIXC6.js";import{a as _}from"./chunk-DGEO6YFW.js";import{Da as v,Db as C,Gb as m,M as d,Oa as g,Sa as y,T as h,U as l,aa as s,ba as r,ia as f,ib as F,na as b,oa as c,wa as o,wb as I,xa as a,ya as u}from"./chunk-3IIJ4CMG.js";var q=(()=>{class n extends D{constructor(e,t,i,p){super(),this.twa=e,this.router=t,this.formBuilder=i,this.service=p,this.transactionForm=this.formBuilder.group({}),this.symbols=B,this.submit=this.submit.bind(this),this.submit=this.submit.bind(this)}ngOnInit(){this.transactionForm.statusChanges.subscribe(e=>this.twa.mainButtonIsActive(e=="VALID")),this.twa.backButtonOnClick(this.goBack),this.twa.setMainButton({text:"Add",is_active:!0,is_visible:!0},this.submit)}ngOnDestroy(){this.twa.offBackButton(this.goBack),this.twa.offMainButton(this.submit)}submit(){if(this.transactionForm.invalid)return;let e=this.transactionForm.value;this.service.create(e).subscribe(t=>this.router.navigate([m.chartCategory(t.category)]))}goBack(){this.router.navigate([this.categoryItem?m.chartCategory(this.categoryItem):m.main()])}static{this.\u0275fac=function(t){return new(t||n)(r(_),r(I),r(A),r(C))}}static{this.\u0275cmp=d({type:n,selectors:[["ng-component"]],inputs:{categoryItem:"categoryItem"},standalone:!0,features:[f,y],decls:9,vars:3,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[1,"hstack","p-3","pb-0","color-accent"],[1,"m-auto","text-center","h5"],[1,"p-3"],["width","2rem","height","2rem",1,"bi"],[1,"p-3",3,"ngSubmit","formGroup"],[3,"parentForm"]],template:function(t,i){t&1&&(o(0,"section",0)(1,"div",1)(2,"span",2),g(3,"Add"),a(),o(4,"div",3),h(),o(5,"svg",4),u(6,"use"),a()()(),l(),o(7,"form",5),v("ngSubmit",function(){return i.submit()}),u(8,"transaction-inputs",6),a()()),t&2&&(s(6),b("href","#"+i.symbols.nodePlusFill,null,"xlink"),s(),c("formGroup",i.transactionForm),s(),c("parentForm",i.transactionForm))},dependencies:[F,T,M,w,S,k],encapsulation:2})}}return n})();export{q as AddComponent};
