import{a as G,b as H}from"./chunk-SPM7JMZM.js";import{a as R}from"./chunk-RGFZQIH5.js";import{c as O}from"./chunk-2ORZS2F6.js";import{a as A,b as P}from"./chunk-5QTEUDWQ.js";import"./chunk-CTBJ2Y2T.js";import{a as z}from"./chunk-R4CIRXOU.js";import{a as S}from"./chunk-UKQHRIEO.js";import{Bb as j,Cb as B,Ea as v,Kb as _,M as l,Mb as b,Na as w,Oa as o,Pa as x,T as M,Va as d,aa as u,ba as c,ja as g,na as k,nb as p,oa as h,ob as F,ra as C,ua as T,v as D,va as L,wa as n,xa as i,ya as m}from"./chunk-E6LWA6T6.js";var V=(()=>{class t{constructor(){this.chartCategories=[],this.doughnutChartLabels=[],this.doughnutChartDatasets=[],this.doughnutChartOptions={animation:{animateRotate:!0,animateScale:!0},plugins:{legend:{position:"bottom",labels:{font:{size:16}}}},responsive:!0}}ngOnInit(){this.initChartData()}initChartData(){let e=this.chartCategories.reduce((r,f,E)=>(E<5?(r.labels.push(f.category.title),r.backgroundColors.push(f.color),r.data.push(f.total)):(r.labels[5]="Others",r.backgroundColors.push("#999"),r.data[5]=(r.data[5]??0)+f.total),r),{labels:[],backgroundColors:[],data:[]});this.doughnutChartLabels.push(...e.labels),this.doughnutChartDatasets.push({data:e.data,label:"sum",borderWidth:1,backgroundColor:e.backgroundColors})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=l({type:t,selectors:[["chart-categories-doughnut"]],inputs:{chartCategories:"chartCategories"},standalone:!0,features:[d],decls:1,vars:5,consts:[["baseChart","",3,"labels","datasets","options","legend","type"]],template:function(e,r){e&1&&m(0,"canvas",0),e&2&&h("labels",r.doughnutChartLabels)("datasets",r.doughnutChartDatasets)("options",r.doughnutChartOptions)("legend",!0)("type","doughnut")},dependencies:[p,O],encapsulation:2})}}return t})();var U=(t,s)=>s.category.id;function W(t,s){if(t&1&&(n(0,"a",1)(1,"div",2)(2,"div",3),o(3),i()(),n(4,"div",4)(5,"div",5)(6,"div",6),o(7),i()(),n(8,"div",7)(9,"div"),o(10,"Sum:"),i(),n(11,"div"),o(12),i()()(),n(13,"div",8),M(),n(14,"svg",9),m(15,"use"),i()()()),t&2){let a=s.$implicit,e=v(2);h("routerLink",e.routeCreator.chartCategory(a.category)),u(),w("width:4rem;height:4rem;background-color:",a.color,";"),u(2),x(a.category.label),u(4),x(a.category.title),u(5),x(a.total),u(3),k("href","#"+e.symbols.chevronRight,null,"xlink")}}function Z(t,s){if(t&1&&(n(0,"div",0),T(1,W,16,8,"a",1,U),i()),t&2){let a=v();u(),L(a.chartCategories)}}var $=(()=>{class t{constructor(){this.chartCategories=[],this.routeCreator=b,this.symbols=z}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=l({type:t,selectors:[["chart-categories-list"]],inputs:{chartCategories:"chartCategories"},standalone:!0,features:[d],decls:1,vars:1,consts:[[1,"list-group"],[1,"list-group-item","hstack","pe-0",3,"routerLink"],[1,"rounded-circle","d-flex"],[1,"m-auto"],[1,"vstack","ps-3","jcc"],[1,"jcs"],[1,"text-truncate"],[1,"jcb"],[1,"jcc","px-3"],[1,"bi"]],template:function(e,r){e&1&&g(0,Z,3,0,"div",0),e&2&&C(r.chartCategories.length?0:-1)},dependencies:[p,B],encapsulation:2})}}return t})();var y=class{constructor(s){this.params=s}toHttpParams(){let s={};return this.params.categoryId&&(s.categoryId=this.params.categoryId),this.params.from&&(s.from=_(this.params.from)),this.params.to&&(s.to=_(this.params.to)),new F({fromObject:s})}filter(s){return this.params.categoryId?s.category.id==this.params.categoryId:this.params.categoryId==null}};function J(t,s){t&1&&(n(0,"h5"),o(1,"\u0421\u043B\u0435\u0434\u0438 \u0437\u0430 \u0441\u0432\u043E\u0438\u043C\u0438 \u0444\u0438\u043D\u0430\u043D\u0441\u0430\u043C\u0438 "),n(2,"span",1),o(3,"\u043B\u0435\u0433\u043A\u043E"),i()(),n(4,"p")(5,"span",1),o(6,"\u0423\u043F\u0440\u0430\u0432\u043B\u044F\u0439"),i(),o(7," \u0431\u044E\u0434\u0436\u0435\u0442\u043E\u043C, \u043E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0439 \u0440\u0430\u0441\u0445\u043E\u0434\u044B "),n(8,"span",1),o(9,"\u0438 \u0434\u043E\u0441\u0442\u0438\u0433\u0430\u0439"),i(),o(10," \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0445 "),n(11,"span",1),o(12,"\u0446\u0435\u043B\u0435\u0439"),i(),o(13,"."),i())}function N(t,s){t&1&&(n(0,"h5"),o(1,"\xDCberwachen Sie Ihre Finanzen ganz einfach"),i(),n(2,"p"),o(3,"Verwalten Sie Ihr Budget, verfolgen Sie Ausgaben und erreichen Sie Ihre finanziellen Ziele."),i())}function Q(t,s){t&1&&(n(0,"h5"),o(1,"Monitorize as suas finan\xE7as facilmente"),i(),n(2,"p"),o(3,"Fa\xE7a a gest\xE3o do seu or\xE7amento, controle despesas e alcance as suas metas financeiras."),i())}function X(t,s){t&1&&(n(0,"h5"),o(1,"Surveillez facilement vos finances"),i(),n(2,"p"),o(3,"G\xE9rez votre budget, suivez vos d\xE9penses et atteignez vos objectifs financiers."),i())}function Y(t,s){t&1&&(n(0,"h5"),o(1,"Keep track of your finances "),n(2,"span",1),o(3,"easily"),i()(),n(4,"p")(5,"span",1),o(6,"Manage"),i(),o(7," your budget, track your expenses "),n(8,"span",1),o(9,"and achieve your"),i(),o(10," financial "),n(11,"span",1),o(12,"goals"),i(),o(13,"."),i())}var K=(()=>{class t{constructor(a){this.twa=a,this.currentLanguage=a.getUserLanguageCode()}static{this.\u0275fac=function(e){return new(e||t)(c(S))}}static{this.\u0275cmp=l({type:t,selectors:[["main-intro"]],hostAttrs:[1,"d-flex","flex-column","h-100"],standalone:!0,features:[d],decls:6,vars:1,consts:[[1,"m-3","mb-5","text-center"],[1,"h1","color-accent"]],template:function(e,r){e&1&&(n(0,"div",0),g(1,J,14,0)(2,N,4,0)(3,Q,4,0)(4,X,4,0)(5,Y,14,0),i()),e&2&&(u(),C(r.currentLanguage=="ru"?1:r.currentLanguage=="de"?2:r.currentLanguage=="pt"?3:r.currentLanguage=="fr"?4:5))},dependencies:[p],encapsulation:2})}}return t})();function tt(t,s){if(t&1&&(n(0,"section",0)(1,"div",2)(2,"span",3),o(3),i(),m(4,"period-selector"),i(),n(5,"div",4),m(6,"chart-categories-doughnut",5),i(),n(7,"div",4),m(8,"chart-categories-list",5),i(),m(9,"period-pagination"),i()),t&2){let a,e=v();u(3),x((a=e.localisation.t.mainCalculations)!==null&&a!==void 0?a:"Calculations"),u(3),h("chartCategories",e.chartCategories),u(2),h("chartCategories",e.chartCategories)}}function et(t,s){t&1&&(n(0,"div",1),m(1,"main-intro"),i())}var kt=(()=>{class t{constructor(a,e,r,f,E){this.twa=a,this.filter=e,this.localisation=r,this.service=f,this.router=E,this.chartCategories=[],this.routeCreator=b}ngOnInit(){this.loadChartCategories(this.filter.fromTo),this.filterSubscription=this.filter.nextFromTo.pipe(D(1e3)).subscribe(a=>this.loadChartCategories(a)),this.twa.visibleBackButton(!1),this.twa.setMainButton({text:"Add transaction",is_active:!0,is_visible:!0,has_shine_effect:!0},()=>this.onMainClick())}ngOnDestroy(){this.twa.offMainButton(()=>this.onMainClick()),this.filterSubscription?.unsubscribe()}onMainClick(){this.router.navigate([b.transactionAdd()])}loadChartCategories(a){this.service.list(new y(a)).subscribe(e=>this.chartCategories=e)}static{this.\u0275fac=function(e){return new(e||t)(c(S),c(A),c(G),c(H),c(j))}}static{this.\u0275cmp=l({type:t,selectors:[["ng-component"]],hostAttrs:[1,"d-flex","flex-column","h-100"],standalone:!0,features:[d],decls:2,vars:1,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[1,"m-auto"],[1,"hstack","p-3","pb-0"],[1,"m-auto","text-center","h5"],[1,"card-body","p-2"],[3,"chartCategories"]],template:function(e,r){e&1&&g(0,tt,10,3,"section",0)(1,et,2,0,"div",1),e&2&&C((r.chartCategories.length,1))},dependencies:[p,V,$,P,R,K],encapsulation:2})}}return t})();export{kt as MainComponent};
