import"./chunk-PNXQ22AF.js";import{b as B}from"./chunk-XOKEXDWS.js";import{e as I,f as S,h as C,m as F,n as y}from"./chunk-5BYACR2K.js";import{a as w}from"./chunk-H6VCU7P4.js";import{Da as p,Db as _,Gb as k,M as u,Oa as l,Sa as h,aa as n,ba as r,ib as f,lb as v,oa as a,ub as b,wa as s,wb as g,xa as c,ya as d}from"./chunk-UH2UHZL4.js";var V=(()=>{class o{constructor(t,e,i,m,j){this.activatedRoute=t,this.twa=e,this.router=i,this.formBuilder=m,this.service=j,this.transactionForm=this.formBuilder.group({})}ngOnInit(){this.twa.backButton(()=>this.router.navigate([this._backUrl])),this.twa.setSecondaryButton({text:"Delete",is_visible:!0,is_active:!0,has_shine_effect:!1,position:"left"},()=>this.delete()),this.twa.setMainButton({text:"Save",is_visible:!0,is_active:!0,has_shine_effect:!0},()=>this.save()),this.activatedRoute.data.subscribe(t=>this.transactionItem=t.categoryItem)}ngOnDestroy(){this.twa.backButton(()=>this.router.navigate([this._backUrl])),this.twa.visibleSecondaryButton(!1),this.twa.visibleMainButton(!1)}save(){if(this.transactionForm.invalid)return;let t=this.transactionForm.value;this.service.edit(Object.assign(this.transactionItem,t)).subscribe(()=>this.router.navigate([this._backUrl]))}delete(){this.service.delete(this.transactionItem).subscribe(t=>{t.status==v.NoContent&&this.router.navigate([this._backUrl])})}get _backUrl(){return k.chartCategory(this.transactionItem.category)}static{this.\u0275fac=function(e){return new(e||o)(r(b),r(w),r(g),r(F),r(_))}}static{this.\u0275cmp=u({type:o,selectors:[["ng-component"]],standalone:!0,features:[h],decls:6,vars:3,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[1,"p-3","pb-0"],[1,"text-center","h5"],[1,"px-2",3,"ngSubmit","formGroup"],[3,"parentForm","transactionItem"]],template:function(e,i){e&1&&(s(0,"section",0)(1,"div",1)(2,"span",2),l(3,"Edit"),c()(),s(4,"form",3),p("ngSubmit",function(){return i.save()}),d(5,"transaction-inputs",4),c()()),e&2&&(n(4),a("formGroup",i.transactionForm),n(),a("parentForm",i.transactionForm)("transactionItem",i.transactionItem))},dependencies:[f,y,S,I,C,B],encapsulation:2})}}return o})();export{V as EditComponent};
