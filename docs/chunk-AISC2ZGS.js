import{a as T}from"./chunk-GELC447V.js";import{a as D}from"./chunk-2YOG37DJ.js";import{a as B}from"./chunk-KQRQU7YE.js";import{g as C,i as w,k,p as A,r as M}from"./chunk-YAH7JT7V.js";import{c as j}from"./chunk-RVBB37U4.js";import{$ as r,Ba as v,Db as y,K as d,Kb as I,Ma as b,Pb as _,R as p,S as l,Ta as g,_ as a,ga as h,jb as F,la as f,ma as c,pb as S,ua as o,va as s,wa as m}from"./chunk-DIXJAQJD.js";var K=(()=>{class n extends D{constructor(e,t,i,u,G){super(),this.twa=e,this.router=t,this.formBuilder=i,this.location=u,this.service=G,this.transactionForm=this.formBuilder.group({}),this.symbols=B}ngOnInit(){this.transactionFormSubscription=this.transactionForm.statusChanges.subscribe(e=>this.twa.mainButtonIsActive(e=="VALID")),this.twa.backButtonOnClick(()=>this.goBack()),this.twa.setMainButton({text:"Add",is_active:!0,is_visible:!0},()=>this.add())}ngOnDestroy(){this.transactionFormSubscription?.unsubscribe(),this.serviceSubscription?.unsubscribe(),this.twa.mainButtonIsActive(!0),this.twa.offBackButton(()=>this.goBack()),this.twa.offMainButton(()=>this.add())}add(){if(this.transactionForm.invalid)return;let e=this.transactionForm.value;this.serviceSubscription=this.service.create(e).subscribe(t=>{this.transactionForm.reset(),this.router.navigate([j.chartCategory(t.category)])})}goBack(){this.location.back()}static{this.\u0275fac=function(t){return new(t||n)(r(_),r(y),r(A),r(F),r(I))}}static{this.\u0275cmp=d({type:n,selectors:[["ng-component"]],standalone:!0,features:[h,g],decls:9,vars:4,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[1,"hstack","p-3","pb-0","color-accent"],[1,"m-auto","text-center","h5"],[1,"p-2","px-4"],[1,"bi",2,"width","2rem","height","2rem"],[1,"p-3",3,"ngSubmit","formGroup"],[3,"parentForm","categoryItem"]],template:function(t,i){t&1&&(o(0,"section",0)(1,"div",1)(2,"span",2),b(3,"Add"),s(),o(4,"div",3),p(),o(5,"svg",4),m(6,"use"),s()()(),l(),o(7,"form",5),v("ngSubmit",function(){return i.add()}),m(8,"transaction-inputs",6),s()()),t&2&&(a(6),f("href","#"+i.symbols.nodePlusFill,null,"xlink"),a(),c("formGroup",i.transactionForm),a(),c("parentForm",i.transactionForm)("categoryItem",i.categoryItem))},dependencies:[S,T,M,w,C,k],encapsulation:2})}}return n})();export{K as a};
