import{d as Be,e as wt,n as Qe}from"./chunk-XRLNJI4C.js";var Je=Be(()=>{"use strict";(function(){var x={},s="";try{s=location.hash.toString()}catch{}var P=F(s),g=X("initParams");if(g)for(var i in g)typeof P[i]>"u"&&(P[i]=g[i]);ce("initParams",P);var L=!1,j;try{if(L=window.parent!=null&&window!=window.parent,L){window.addEventListener("message",function(l){if(l.source===window.parent){try{var p=JSON.parse(l.data)}catch{return}if(!(!p||!p.eventType))if(p.eventType=="set_custom_style")l.origin==="https://web.telegram.org"&&(j.innerHTML=p.eventData);else if(p.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else O(p.eventType,p.eventData)}}),j=document.createElement("style"),document.head.appendChild(j);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function W(l){try{return l=l.replace(/\+/g,"%20"),decodeURIComponent(l)}catch{return l}}function F(l){l=l.replace(/^#/,"");var p={};if(!l.length)return p;if(l.indexOf("=")<0&&l.indexOf("?")<0)return p._path=W(l),p;var c=l.indexOf("?");if(c>=0){var y=l.substr(0,c);p._path=W(y),l=l.substr(c+1)}var C=w(l);for(var S in C)p[S]=C[S];return p}function w(l){var p={};if(!l.length)return p;var c=l.split("&"),y,C,S,z;for(y=0;y<c.length;y++)C=c[y].split("="),S=W(C[0]),z=C[1]==null?null:W(C[1]),p[S]=z;return p}function le(l,p){var c=l.indexOf("#");if(c<0)return l+"#"+p;var y=l.substr(c+1);return y.indexOf("=")>=0||y.indexOf("?")>=0?l+"&"+p:y.length>0?l+"?"+p:l+p}function ue(l,p,c){if(p||(p=function(){}),c===void 0&&(c=""),console.log("[Telegram.WebView] > postEvent",l,c),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(l,JSON.stringify(c)),p();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:l,eventData:c})),p();else if(L)try{var y="https://web.telegram.org";y="*",window.parent.postMessage(JSON.stringify({eventType:l,eventData:c}),y),p()}catch(C){p(C)}else p({notAvailable:!0})}function O(l,p){console.log("[Telegram.WebView] < receiveEvent",l,p),pe(l,function(c){c(l,p)})}function pe(l,p){var c=x[l];if(!(c===void 0||!c.length))for(var y=0;y<c.length;y++)try{p(c[y])}catch{}}function Q(l,p){x[l]===void 0&&(x[l]=[]);var c=x[l].indexOf(p);c===-1&&x[l].push(p)}function be(l,p){if(x[l]!==void 0){var c=x[l].indexOf(p);c!==-1&&x[l].splice(c,1)}}function ge(l){if(!l.match(/^(web\+)?tgb?:\/\/./))return!1;var p=!!navigator.userAgent.match(/iOS|iPhone OS|iPhone|iPod|iPad/i);if(p){var c=document.getElementById("tgme_frame_cont")||document.body,y=document.createElement("iframe");c.appendChild(y);var C=!1,S=function(){C=!0};window.addEventListener("pagehide",S,!1),window.addEventListener("blur",S,!1),y!==null&&(y.src=l),setTimeout(function(){C||(window.location=l),window.removeEventListener("pagehide",S,!1),window.removeEventListener("blur",S,!1)},2e3)}else window.location=l;return!0}function ce(l,p){try{return window.sessionStorage.setItem("__telegram__"+l,JSON.stringify(p)),!0}catch{}return!1}function X(l){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+l))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:P,isIframe:L,onEvent:Q,offEvent:be,postEvent:ue,receiveEvent:O,callEventCallbacks:pe},window.Telegram.Utils={urlSafeDecode:W,urlParseQueryString:w,urlParseHashParams:F,urlAppendHashParams:le,sessionStorageSet:ce,sessionStorageGet:X},window.TelegramGameProxy_receiveEvent=O,window.TelegramGameProxy={receiveEvent:O}})();(function(){var x=window.Telegram.Utils,s=window.Telegram.WebView,P=s.initParams,g=s.isIframe,i={},L="",j={},W={},F="light",w="6.0",le="unknown";if(P.tgWebAppData&&P.tgWebAppData.length){L=P.tgWebAppData,j=x.urlParseQueryString(L);for(var ue in j){var O=j[ue];try{(O.substr(0,1)=="{"&&O.substr(-1)=="}"||O.substr(0,1)=="["&&O.substr(-1)=="]")&&(j[ue]=JSON.parse(O))}catch{}}}if(P.tgWebAppThemeParams&&P.tgWebAppThemeParams.length){var pe=P.tgWebAppThemeParams;try{var Q=JSON.parse(pe);Q&&z(Q)}catch{}}var Q=x.sessionStorageGet("themeParams");Q&&z(Q),P.tgWebAppVersion&&(w=P.tgWebAppVersion),P.tgWebAppPlatform&&(le=P.tgWebAppPlatform);function be(e,t){t.theme_params&&(z(t.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),we(),ye(),Ae(),c("themeChanged"))}var ge=window.innerHeight;function ce(e,t){t.height&&(window.removeEventListener("resize",X),ve(t))}function X(e){ge!=window.innerHeight&&(ge=window.innerHeight,c("viewportChanged",{isStateStable:!0}))}function l(e){if(!(e.metaKey||e.ctrlKey)){for(var t=e.target;t.tagName!="A"&&t.parentNode;)t=t.parentNode;t.tagName=="A"&&t.target!="_blank"&&(t.protocol=="http:"||t.protocol=="https:")&&t.hostname=="t.me"&&(i.openTgLink(t.href),e.preventDefault())}}function p(e){return e.toString().replace(/^\s+|\s+$/g,"")}function c(e){var t=Array.prototype.slice.call(arguments);e=t.shift(),s.callEventCallbacks("webview:"+e,function(r){r.apply(i,t)})}function y(e,t){s.onEvent("webview:"+e,t)}function C(e,t){s.offEvent("webview:"+e,t)}function S(e,t){var r=document.documentElement;r&&r.style&&r.style.setProperty&&r.style.setProperty("--tg-"+e,t)}function z(e){e.bg_color=="#1c1c1d"&&e.bg_color==e.secondary_bg_color&&(e.secondary_bg_color="#2c2c2e");var t;for(var r in e)(t=K(e[r]))&&(W[r]=t,r=="bg_color"&&(F=De(t)?"dark":"light",S("color-scheme",F)),r="theme-"+r.split("_").join("-"),S(r,t));x.sessionStorageSet("themeParams",W)}var q={};function ke(e){for(var t=100;--t;){for(var r="",o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=o.length,b=0;b<e;b++)r+=o[Math.floor(Math.random()*n)];if(!q[r])return q[r]={},r}throw Error("WebAppCallbackIdGenerateFailed")}var Z=!1,Y=!1,Ce=!0;function ve(e){typeof e<"u"&&(Ce=!!e.is_expanded,Z=e.height,e.is_state_stable&&(Y=e.height),c("viewportChanged",{isStateStable:!!e.is_state_stable}));var t,r;Z!==!1?t=Z-I+"px":t=I?"calc(100vh - "+I+"px)":"100vh",Y!==!1?r=Y-I+"px":r=I?"calc(100vh - "+I+"px)":"100vh",S("viewport-height",t),S("viewport-stable-height",r)}var me=!1;function Ge(e){if(!m("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+w);return}me=!!e,s.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:me})}var he=!0;function Ke(e){if(!m("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+w);return}he=!!e,s.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:he})}var G="bg_color",D=null;function $e(){return G=="secondary_bg_color"?W.secondary_bg_color:G=="bg_color"?W.bg_color:D}function Xe(e){if(!m("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+w);return}m("6.9")||(W.bg_color&&W.bg_color==e?e="bg_color":W.secondary_bg_color&&W.secondary_bg_color==e&&(e="secondary_bg_color"));var t=null,r=null;if(e=="bg_color"||e=="secondary_bg_color")r=e;else if(m("6.9")&&(t=K(e),!t))throw console.error("[Telegram.WebApp] Header color format is invalid",e),Error("WebAppHeaderColorInvalid");if(!m("6.9")&&r!="bg_color"&&r!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",e),Error("WebAppHeaderColorKeyInvalid");G=r,D=t,we()}var xe=null,_e=null;function we(){(xe!=G||_e!=D)&&(xe=G,_e=D,_e?s.postEvent("web_app_set_header_color",!1,{color:D}):s.postEvent("web_app_set_header_color",!1,{color_key:G}))}var fe="bg_color";function Se(){return fe=="secondary_bg_color"?W.secondary_bg_color:fe=="bg_color"?W.bg_color:fe}function Ze(e){if(!m("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+w);return}var t;if(e=="bg_color"||e=="secondary_bg_color")t=e;else if(t=K(e),!t)throw console.error("[Telegram.WebApp] Background color format is invalid",e),Error("WebAppBackgroundColorInvalid");fe=t,ye()}var Ie=null;function ye(){var e=Se();Ie!=e&&(Ie=e,s.postEvent("web_app_set_background_color",!1,{color:e}))}var ee="bottom_bar_bg_color";function te(){return ee=="bottom_bar_bg_color"?W.bottom_bar_bg_color||W.secondary_bg_color||"#ffffff":ee=="secondary_bg_color"?W.secondary_bg_color:ee=="bg_color"?W.bg_color:ee}function Ye(e){if(!m("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+w);return}var t;if(e=="bg_color"||e=="secondary_bg_color"||e=="bottom_bar_bg_color")t=e;else if(t=K(e),!t)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",e),Error("WebAppBottomBarColorInvalid");ee=t,Ae(),window.Telegram.WebApp.SecondaryButton.setParams({})}var Me=null;function Ae(){var e=te();Me!=e&&(Me=e,s.postEvent("web_app_set_bottom_bar_color",!1,{color:e})),P.tgWebAppDebug&&Re()}function K(e){e+="";var t;if(t=/^\s*#([0-9a-f]{6})\s*$/i.exec(e))return"#"+t[1].toLowerCase();if(t=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(e))return("#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]).toLowerCase();if(t=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(e)){var r=parseInt(t[1]),o=parseInt(t[2]),n=parseInt(t[3]);return r=(r<16?"0":"")+r.toString(16),o=(o<16?"0":"")+o.toString(16),n=(n<16?"0":"")+n.toString(16),"#"+r+o+n}return!1}function De(e){e=e.replace(/[\s#]/g,""),e.length==3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16),n=Math.sqrt(.299*(t*t)+.587*(r*r)+.114*(o*o));return n<120}function et(e,t){typeof e!="string"&&(e=""),typeof t!="string"&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var r=Math.max(e.length,t.length),o,n,b;for(o=0;o<r;o++)if(n=parseInt(e[o])||0,b=parseInt(t[o])||0,n!=b)return n>b?1:-1;return 0}function m(e){return et(w,e)>=0}function tt(e){if(window.Blob)try{return new Blob([e]).size}catch{}for(var t=e.length,r=e.length-1;r>=0;r--){var o=e.charCodeAt(r);o>127&&o<=2047?t++:o>2047&&o<=65535&&(t+=2),o>=56320&&o<=57343&&r--}return t}var rt=function(){var e=!1,t={};Object.defineProperty(t,"isVisible",{set:function(f){_({is_visible:f})},get:function(){return e},enumerable:!0});var r=null;s.onEvent("back_button_pressed",o);function o(){c("backButtonClicked")}function n(){return{is_visible:e}}function b(f){return typeof f>"u"&&(f=n()),JSON.stringify(f)}function h(){return m("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+w),!1)}function d(){var f=n(),T=b(f);r!==T&&(r=T,s.postEvent("web_app_setup_back_button",!1,f))}function _(f){return h()&&(typeof f.is_visible<"u"&&(e=!!f.is_visible),d()),t}return t.onClick=function(f){return h()&&y("backButtonClicked",f),t},t.offClick=function(f){return h()&&C("backButtonClicked",f),t},t.show=function(){return _({is_visible:!0})},t.hide=function(){return _({is_visible:!1})},t}(),M=null,We={},I=0;if(P.tgWebAppDebug){M=document.createElement("tg-bottom-bar");var Oe={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:te(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var qe in Oe)M.style[qe]=Oe[qe];document.addEventListener("DOMContentLoaded",function e(t){document.removeEventListener("DOMContentLoaded",e),document.body.appendChild(M)});var je=document.createElement("style");je.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',M.appendChild(je)}function Re(){var e=We.main._bottomButton,t=We.secondary._bottomButton;e.isVisible||t.isVisible?(M.style.display="flex",I=58,e.isVisible&&t.isVisible&&(t.position=="top"?(M.style.flexDirection="column-reverse",I+=51):t.position=="bottom"?(M.style.flexDirection="column",I+=51):t.position=="left"?M.style.flexDirection="row-reverse":t.position=="right"&&(M.style.flexDirection="row"))):(M.style.display="none",I=0),M.style.background=te(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=I+"px"),ve()}var Ue=function(e){var t=e=="main";if(t)var r="web_app_setup_main_button",o="main_button_pressed",n="mainButtonClicked",b="Continue",h=function(){return W.button_color||"#2481cc"},d=function(){return W.button_text_color||"#ffffff"};else var r="web_app_setup_secondary_button",o="secondary_button_pressed",n="secondaryButtonClicked",b="Cancel",h=function(){return te()},d=function(){return W.button_color||"#2481cc"};var _=!1,f=!0,T=!1,E=!1,R=e,ae=b,se=!1,U=!1,N="left",u={};Object.defineProperty(u,"type",{get:function(){return R},enumerable:!0}),Object.defineProperty(u,"text",{set:function(a){u.setParams({text:a})},get:function(){return ae},enumerable:!0}),Object.defineProperty(u,"color",{set:function(a){u.setParams({color:a})},get:function(){return se||h()},enumerable:!0}),Object.defineProperty(u,"textColor",{set:function(a){u.setParams({text_color:a})},get:function(){return U||d()},enumerable:!0}),Object.defineProperty(u,"isVisible",{set:function(a){u.setParams({is_visible:a})},get:function(){return _},enumerable:!0}),Object.defineProperty(u,"isProgressVisible",{get:function(){return E},enumerable:!0}),Object.defineProperty(u,"isActive",{set:function(a){u.setParams({is_active:a})},get:function(){return f},enumerable:!0}),Object.defineProperty(u,"hasShineEffect",{set:function(a){u.setParams({has_shine_effect:a})},get:function(){return T},enumerable:!0}),t||Object.defineProperty(u,"position",{set:function(a){u.setParams({position:a})},get:function(){return N},enumerable:!0});var B=null;s.onEvent(o,Le);var v=null;if(P.tgWebAppDebug){v=document.createElement("tg-bottom-button");var k={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var H in k)v.style[H]=k[H];M.appendChild(v),v.addEventListener("click",Le,!1),v._bottomButton=u,We[e]=v}function Le(){f&&c(n)}function Ne(){var a=u.color,V=u.textColor;if(_){var $={is_visible:!0,is_active:f,is_progress_visible:E,text:ae,color:a,text_color:V,has_shine_effect:T&&f&&!E};t||($.position=N)}else var $={is_visible:!1};return $}function mt(a){return typeof a>"u"&&(a=Ne()),JSON.stringify(a)}function Pe(){var a=Ne(),V=mt(a);B!==V&&(B=V,s.postEvent(r,!1,a),P.tgWebAppDebug&&ht(a))}function ht(a){a.is_visible?(v.style.display="block",v.style.opacity=a.is_active?"1":"0.8",v.style.cursor=a.is_active?"pointer":"auto",v.disabled=!a.is_active,v.innerText=a.text,v.className=a.has_shine_effect?"shine":"",v.style.backgroundImage=a.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+a.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",v.style.backgroundColor=a.color,v.style.color=a.text_color):v.style.display="none",Re()}function _t(a){if(typeof a.text<"u"){var V=p(a.text);if(!V.length)throw console.error("[Telegram.WebApp] Bottom button text is required",a.text),Error("WebAppBottomButtonParamInvalid");if(V.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",V),Error("WebAppBottomButtonParamInvalid");ae=V}if(typeof a.color<"u")if(a.color===!1||a.color===null)se=!1;else{var $=K(a.color);if(!$)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",a.color),Error("WebAppBottomButtonParamInvalid");se=$}if(typeof a.text_color<"u")if(a.text_color===!1||a.text_color===null)U=!1;else{var He=K(a.text_color);if(!He)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",a.text_color),Error("WebAppBottomButtonParamInvalid");U=He}if(typeof a.is_visible<"u"){if(a.is_visible&&!u.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");_=!!a.is_visible}if(typeof a.has_shine_effect<"u"&&(T=!!a.has_shine_effect),!t&&typeof a.position<"u"){if(a.position!="left"&&a.position!="right"&&a.position!="top"&&a.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",a.position),Error("WebAppBottomButtonParamInvalid");N=a.position}return typeof a.is_active<"u"&&(f=!!a.is_active),Pe(),u}return u.setText=function(a){return u.setParams({text:a})},u.onClick=function(a){return y(n,a),u},u.offClick=function(a){return C(n,a),u},u.show=function(){return u.setParams({is_visible:!0})},u.hide=function(){return u.setParams({is_visible:!1})},u.enable=function(){return u.setParams({is_active:!0})},u.disable=function(){return u.setParams({is_active:!1})},u.showProgress=function(a){return f=!!a,E=!0,Pe(),u},u.hideProgress=function(){return u.isActive||(f=!0),E=!1,Pe(),u},u.setParams=_t,u},ot=Ue("main"),nt=Ue("secondary"),Ve=function(){var e=!1,t={};Object.defineProperty(t,"isVisible",{set:function(f){_({is_visible:f})},get:function(){return e},enumerable:!0});var r=null;s.onEvent("settings_button_pressed",o);function o(){c("settingsButtonClicked")}function n(){return{is_visible:e}}function b(f){return typeof f>"u"&&(f=n()),JSON.stringify(f)}function h(){return m("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+w),!1)}function d(){var f=n(),T=b(f);r!==T&&(r=T,s.postEvent("web_app_setup_settings_button",!1,f))}function _(f){return h()&&(typeof f.is_visible<"u"&&(e=!!f.is_visible),d()),t}return t.onClick=function(f){return h()&&y("settingsButtonClicked",f),t},t.offClick=function(f){return h()&&C("settingsButtonClicked",f),t},t.show=function(){return _({is_visible:!0})},t.hide=function(){return _({is_visible:!1})},t}(),it=function(){var e={};function t(r){if(!m("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+w),e;if(r.type=="impact"){if(r.impact_style!="light"&&r.impact_style!="medium"&&r.impact_style!="heavy"&&r.impact_style!="rigid"&&r.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",r.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(r.type=="notification"){if(r.notification_type!="error"&&r.notification_type!="success"&&r.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",r.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(r.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",r.type),Error("WebAppHapticFeedbackTypeInvalid");return s.postEvent("web_app_trigger_haptic_feedback",!1,r),e}return e.impactOccurred=function(r){return t({type:"impact",impact_style:r})},e.notificationOccurred=function(r){return t({type:"notification",notification_type:r})},e.selectionChanged=function(){return t({type:"selection_change"})},e}(),at=function(){var e={};function t(r,o,n){if(!m("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+w),Error("WebAppMethodUnsupported");return Ee(r,o,n),e}return e.setItem=function(r,o,n){return t("saveStorageValue",{key:r,value:o},n)},e.getItem=function(r,o){return e.getItems([r],o?function(n,b){n?o(n):o(null,b[r])}:null)},e.getItems=function(r,o){return t("getStorageValues",{keys:r},o)},e.removeItem=function(r,o){return e.removeItems([r],o)},e.removeItems=function(r,o){return t("deleteStorageValues",{keys:r},o)},e.getKeys=function(r){return t("getStorageKeys",{},r)},e}(),st=function(){var e=!1,t=!1,r="unknown",o=!1,n=!1,b=!1,h="",d={};Object.defineProperty(d,"isInited",{get:function(){return e},enumerable:!0}),Object.defineProperty(d,"isBiometricAvailable",{get:function(){return e&&t},enumerable:!0}),Object.defineProperty(d,"biometricType",{get:function(){return r||"unknown"},enumerable:!0}),Object.defineProperty(d,"isAccessRequested",{get:function(){return o},enumerable:!0}),Object.defineProperty(d,"isAccessGranted",{get:function(){return o&&n},enumerable:!0}),Object.defineProperty(d,"isBiometricTokenSaved",{get:function(){return b},enumerable:!0}),Object.defineProperty(d,"deviceId",{get:function(){return h||""},enumerable:!0});var _={callbacks:[]},f=!1,T=!1,E=!1;s.onEvent("biometry_info_received",R),s.onEvent("biometry_auth_requested",ae),s.onEvent("biometry_token_updated",se);function R(u,B){if(e=!0,B.available?(t=!0,r=B.type||"unknown",B.access_requested?(o=!0,n=!!B.access_granted,b=!!B.token_saved):(o=!1,n=!1,b=!1)):(t=!1,r="unknown",o=!1,n=!1,b=!1),h=B.device_id||"",_.callbacks.length>0)for(var v=0;v<_.callbacks.length;v++){var k=_.callbacks[v];k()}if(f){var H=f;f=!1,H.callback&&H.callback(n)}c("biometricManagerUpdated")}function ae(u,B){var v=B.status=="authorized",k=B.token||"";if(T){var H=T;T=!1,H.callback&&H.callback(v,v?k:null)}c("biometricAuthRequested",v?{isAuthenticated:!0,biometricToken:k}:{isAuthenticated:!1})}function se(u,B){var v=!1;if(t&&o&&(B.status=="updated"?(b=!0,v=!0):B.status=="removed"&&(b=!1,v=!0)),E){var k=E;E=!1,k.callback&&k.callback(v)}c("biometricTokenUpdated",{isUpdated:v})}function U(){return m("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+w),!1)}function N(){if(!e)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return d.init=function(u){return!U()||e||(u&&_.callbacks.push(u),s.postEvent("web_app_biometry_get_info",!1)),d},d.requestAccess=function(u,B){if(!U())return d;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(f)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var v={};if(typeof u.reason<"u"){var k=p(u.reason);if(k.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",k),Error("WebAppBiometricRequestAccessParamInvalid");k.length>0&&(v.reason=k)}return f={callback:B},s.postEvent("web_app_biometry_request_access",!1,v),d},d.authenticate=function(u,B){if(!U())return d;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!n)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(T)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var v={};if(typeof u.reason<"u"){var k=p(u.reason);if(k.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",k),Error("WebAppBiometricRequestAccessParamInvalid");k.length>0&&(v.reason=k)}return T={callback:B},s.postEvent("web_app_biometry_request_auth",!1,v),d},d.updateBiometricToken=function(u,B){if(!U())return d;if(u=u||"",u.length>1024)throw console.error("[Telegram.WebApp] Token is too long",u),Error("WebAppBiometricManagerTokenInvalid");if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!n)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(E)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return E={callback:B},s.postEvent("web_app_biometry_update_token",!1,{token:u}),d},d.openSettings=function(){if(!U())return d;if(N(),!t)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!o)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return n?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),d):(s.postEvent("web_app_biometry_open_settings",!1),d)},d}(),re={};function lt(e,t){if(t.slug&&re[t.slug]){var r=re[t.slug];delete re[t.slug],r.callback&&r.callback(t.status),c("invoiceClosed",{url:r.url,status:t.status})}}var oe=!1;function ut(e,t){if(oe){var r=oe;oe=!1;var o=null;typeof t.button_id<"u"&&(o=t.button_id),r.callback&&r.callback(o),c("popupClosed",{button_id:o})}}var J=!1;function pt(e,t){if(J){var r=J,o=null;typeof t.data<"u"&&(o=t.data),r.callback&&r.callback(o)&&(J=!1,s.postEvent("web_app_close_scan_qr_popup",!1)),c("qrTextReceived",{data:o})}}function ct(e,t){J=!1,c("scanQrPopupClosed")}function ft(e,t){if(t.req_id&&q[t.req_id]){var r=q[t.req_id];delete q[t.req_id];var o=null;typeof t.data<"u"&&(o=t.data),r.callback&&r.callback(o),c("clipboardTextReceived",{data:o})}}var ne=!1;function dt(e,t){if(ne){var r=ne;ne=!1,r.callback&&r.callback(t.status=="allowed"),c("writeAccessRequested",{status:t.status})}}function bt(e,t){var r,o,n=0,b=function(){Ee("getRequestedContact",{},function(d,_){_&&_.length?(clearTimeout(o),e(_)):(n+=50,r=setTimeout(b,n))})},h=function(){clearTimeout(r),e("")};o=setTimeout(h,t),b()}var ie=!1;function gt(e,t){if(ie){var r=ie;ie=!1;var o=t.status=="sent",n={status:t.status};o?bt(function(b){if(b&&b.length){n.response=b,n.responseUnsafe=x.urlParseQueryString(b);for(var h in n.responseUnsafe){var d=n.responseUnsafe[h];try{(d.substr(0,1)=="{"&&d.substr(-1)=="}"||d.substr(0,1)=="["&&d.substr(-1)=="]")&&(n.responseUnsafe[h]=JSON.parse(d))}catch{}}}r.callback&&r.callback(o,n),c("contactRequested",n)},3e3):(r.callback&&r.callback(o,n),c("contactRequested",n))}}function vt(e,t){if(t.req_id&&q[t.req_id]){var r=q[t.req_id];delete q[t.req_id];var o=null,n=null;typeof t.result<"u"&&(o=t.result),typeof t.error<"u"&&(n=t.error),r.callback&&r.callback(n,o)}}function Ee(e,t,r){if(!m("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+w),Error("WebAppMethodUnsupported");var o=ke(16),n={req_id:o,method:e,params:t||{}};q[o]={callback:r},s.postEvent("web_app_invoke_custom_method",!1,n)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return L},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return j},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return w},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return le},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return F},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return W},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return Ce},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return(Z===!1?window.innerHeight:Z)-I},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(Y===!1?window.innerHeight:Y)-I},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(e){Ge(e)},get:function(){return me},enumerable:!0}),Object.defineProperty(i,"isVerticalSwipesEnabled",{set:function(e){Ke(e)},get:function(){return he},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(e){Xe(e)},get:function(){return $e()},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(e){Ze(e)},get:function(){return Se()},enumerable:!0}),Object.defineProperty(i,"bottomBarColor",{set:function(e){Ye(e)},get:function(){return te()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:rt,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:ot,enumerable:!0}),Object.defineProperty(i,"SecondaryButton",{value:nt,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:Ve,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:it,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:at,enumerable:!0}),Object.defineProperty(i,"BiometricManager",{value:st,enumerable:!0}),i.setHeaderColor=function(e){i.headerColor=e},i.setBackgroundColor=function(e){i.backgroundColor=e},i.setBottomBarColor=function(e){i.bottomBarColor=e},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.enableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!0},i.disableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!1},i.isVersionAtLeast=function(e){return m(e)},i.onEvent=function(e,t){y(e,t)},i.offEvent=function(e,t){C(e,t)},i.sendData=function(e){if(!e||!e.length)throw console.error("[Telegram.WebApp] Data is required",e),Error("WebAppDataInvalid");if(tt(e)>4096)throw console.error("[Telegram.WebApp] Data is too long",e),Error("WebAppDataInvalid");s.postEvent("web_app_data_send",!1,{data:e})},i.switchInlineQuery=function(e,t){if(!m("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+w),Error("WebAppMethodUnsupported");if(!P.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(e=e||"",e.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",e),Error("WebAppInlineQueryInvalid");var r=[];if(t){if(!Array.isArray(t))throw console.error("[Telegram.WebApp] Choose chat types should be an array",t),Error("WebAppInlineChooseChatTypesInvalid");for(var o={users:1,bots:1,groups:1,channels:1},n=0;n<t.length;n++){var b=t[n];if(!o[b])throw console.error("[Telegram.WebApp] Choose chat type is invalid",b),Error("WebAppInlineChooseChatTypeInvalid");o[b]!=2&&(o[b]=2,r.push(b))}}s.postEvent("web_app_switch_inline_query",!1,{query:e,chat_types:r})},i.openLink=function(o,t){var r=document.createElement("A");if(r.href=o,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",o),Error("WebAppTgUrlInvalid");var o=r.href;if(t=t||{},m("6.1")){var n={url:o};m("6.4")&&t.try_instant_view&&(n.try_instant_view=!0),m("7.6")&&t.try_browser&&(n.try_browser=t.try_browser),s.postEvent("web_app_open_link",!1,n)}else window.open(o,"_blank")},i.openTelegramLink=function(e){var t=document.createElement("A");if(t.href=e,t.protocol!="http:"&&t.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if(t.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");var r=t.pathname+t.search;g||m("6.1")?s.postEvent("web_app_open_tg_link",!1,{path_full:r}):location.href="https://t.me"+r},i.openInvoice=function(e,t){var r=document.createElement("A"),o,n;if(r.href=e,r.protocol!="http:"&&r.protocol!="https:"||r.hostname!="t.me"||!(o=r.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(n=o[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",e),Error("WebAppInvoiceUrlInvalid");if(!m("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+w),Error("WebAppMethodUnsupported");if(re[n])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");re[n]={url:e,callback:t},s.postEvent("web_app_open_invoice",!1,{slug:n})},i.showPopup=function(e,t){if(!m("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+w),Error("WebAppMethodUnsupported");if(oe)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var r="",o="",n=[],b={},h={};if(typeof e.title<"u"){if(r=p(e.title),r.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",r),Error("WebAppPopupParamInvalid");r.length>0&&(h.title=r)}if(typeof e.message<"u"&&(o=p(e.message)),!o.length)throw console.error("[Telegram.WebApp] Popup message is required",e.message),Error("WebAppPopupParamInvalid");if(o.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",o),Error("WebAppPopupParamInvalid");if(h.message=o,typeof e.buttons<"u"){if(!Array.isArray(e.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",e.buttons),Error("WebAppPopupParamInvalid");for(var d=0;d<e.buttons.length;d++){var _=e.buttons[d],f={},T="";if(typeof _.id<"u"&&(T=_.id.toString(),T.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",T),Error("WebAppPopupParamInvalid");f.id=T;var E=_.type;if(typeof E>"u"&&(E="default"),f.type=E,!(E=="ok"||E=="close"||E=="cancel"))if(E=="default"||E=="destructive"){var R="";if(typeof _.text<"u"&&(R=p(_.text)),!R.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+E,_.text),Error("WebAppPopupParamInvalid");if(R.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",R),Error("WebAppPopupParamInvalid");f.text=R}else throw console.error("[Telegram.WebApp] Popup button type is invalid",E),Error("WebAppPopupParamInvalid");n.push(f)}}else n.push({id:"",type:"close"});if(n.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(n.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");h.buttons=n,oe={callback:t},s.postEvent("web_app_open_popup",!1,h)},i.showAlert=function(e,t){i.showPopup({message:e},t?function(){t()}:null)},i.showConfirm=function(e,t){i.showPopup({message:e,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},t?function(r){t(r=="ok")}:null)},i.showScanQrPopup=function(e,t){if(!m("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+w),Error("WebAppMethodUnsupported");if(J)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var r="",o={};if(typeof e.text<"u"){if(r=p(e.text),r.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",r),Error("WebAppScanQrPopupParamInvalid");r.length>0&&(o.text=r)}J={callback:t},s.postEvent("web_app_open_scan_qr_popup",!1,o)},i.closeScanQrPopup=function(){if(!m("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+w),Error("WebAppMethodUnsupported");J=!1,s.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(e){if(!m("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+w),Error("WebAppMethodUnsupported");var t=ke(16),r={req_id:t};q[t]={callback:e},s.postEvent("web_app_read_text_from_clipboard",!1,r)},i.requestWriteAccess=function(e){if(!m("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+w),Error("WebAppMethodUnsupported");if(ne)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");ne={callback:e},s.postEvent("web_app_request_write_access")},i.requestContact=function(e){if(!m("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+w),Error("WebAppMethodUnsupported");if(ie)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");ie={callback:e},s.postEvent("web_app_request_phone")},i.shareToStory=function(e,t){if(t=t||{},!m("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+w),Error("WebAppMethodUnsupported");var r=document.createElement("A");if(r.href=e,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var o={};if(o.media_url=r.href,typeof t.text<"u"){var n=p(t.text);if(n.length>2048)throw console.error("[Telegram.WebApp] Text is too long",n),Error("WebAppShareToStoryParamInvalid");n.length>0&&(o.text=n)}if(typeof t.widget_link<"u"){if(t.widget_link=t.widget_link||{},r.href=t.widget_link.url,r.protocol!="http:"&&r.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var b={url:r.href};if(typeof t.widget_link.name<"u"){var h=p(t.widget_link.name);if(h.length>48)throw console.error("[Telegram.WebApp] Link name is too long",h),Error("WebAppShareToStoryParamInvalid");h.length>0&&(b.name=h)}o.widget_link=b}s.postEvent("web_app_share_to_story",!1,o)},i.invokeCustomMethod=function(e,t,r){Ee(e,t,r)},i.ready=function(){s.postEvent("web_app_ready")},i.expand=function(){s.postEvent("web_app_expand")},i.close=function(e){e=e||{};var t={};m("7.6")&&e.return_back&&(t.return_back=!0),s.postEvent("web_app_close",!1,t)},window.Telegram.WebApp=i,we(),ye(),Ae(),ve(),P.tgWebAppShowSettings&&Ve.show(),window.addEventListener("resize",X),g&&document.addEventListener("click",l),s.onEvent("theme_changed",be),s.onEvent("viewport_changed",ce),s.onEvent("invoice_closed",lt),s.onEvent("popup_closed",ut),s.onEvent("qr_text_received",pt),s.onEvent("scan_qr_popup_closed",ct),s.onEvent("clipboard_text_received",ft),s.onEvent("write_access_requested",dt),s.onEvent("phone_requested",gt),s.onEvent("custom_method_invoked",vt),s.postEvent("web_app_request_theme"),s.postEvent("web_app_request_viewport")})()});var Fe=Be(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.WebApp=void 0;Je();var yt=window;de.WebApp=yt.Telegram.WebApp});var ze=Be(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});var At=Fe();Te.default=At.WebApp});var A=wt(ze());var kt=(()=>{let s=class s{constructor(){A.default.ready(),A.default.expand(),A.default.colorScheme&&document.documentElement.setAttribute("data-bs-theme",A.default.colorScheme),A.default.onEvent("themeChanged",()=>{document.documentElement.setAttribute("data-bs-theme",A.default.colorScheme)})}getInitData(){return A.default.initData}setMainButton(g,i){A.default.MainButton.setParams(g),A.default.MainButton.onClick(i)}setMainButtonOffClick(g){A.default.MainButton.offClick(g)}setSecondaryButton(g){A.default.SecondaryButton.setParams(g)}visibleSettingsButton(g){this._buttonVisible(A.default.SettingsButton,g)}visibleSecondaryButton(g){this._buttonVisible(A.default.SecondaryButton,g)}visibleBackButton(g){this._buttonVisible(A.default.BackButton,g)}backButtonShow(){A.default.BackButton.show()}backButton(g){this.backButtonShow(),A.default.BackButton.onClick(g)}showAlert(g,i){A.default.showAlert(g,i)}showPopup(g,i){A.default.showPopup(g,i)}visibleMainButton(g){this._buttonVisible(A.default.MainButton,g)}mainButtonIsActive(g){g?A.default.MainButton.enable():A.default.MainButton.disable()}_buttonVisible(g,i){i?g.show():g.hide()}openLink(g,i){A.default.openLink(g,i)}openTelegramLink(g){A.default.openTelegramLink(g)}expand(){A.default.expand()}};s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"});let x=s;return x})();export{kt as a};
