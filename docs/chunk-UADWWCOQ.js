import{n as c}from"./chunk-CTBJ2Y2T.js";import{g as b,i as P,n as v,o as D,p as C,r as T}from"./chunk-FI7HMMBV.js";import{H as m,M as g,Oa as l,Ra as f,Sa as h,Ta as _,Va as y,aa as r,ba as u,mb as S,oa as d,wa as i,xa as n}from"./chunk-VFXKNQXQ.js";var w=(()=>{class t{constructor(){this.page=0,this._period=s.day,this.format={day:"numeric",month:"short"}}get period(){return this._period}set period(e){e!=this._period&&(this.page=0,this._period=e)}pageNext(){this.page+=1}pagePrev(){this.page>0&&(this.page-=1)}get fromTo(){let e=new Date,a=new Date;switch(this.period){case s.day:e.setDate(e.getDate()-this.page-1),a.setDate(a.getDate()-this.page);break;case s.week:e.setDate(e.getDate()-this.page*7-7),a.setDate(a.getDate()-this.page*7);break;case s.month:e.setMonth(e.getMonth()-this.page-1),a.setMonth(a.getMonth()-this.page);break}return{from:e,to:a}}getPeriodString(){let e=this.fromTo;return this.page===0||this.period==s.day?this.label(e.to):`${this.label(e.from)} - ${this.label(e.to)}`}label(e){if(this.page>0){if(this.period===s.day){let a=c(this.format);return a.weekday="short",e.toLocaleDateString("ru-RU",a)}return e.toLocaleDateString("ru-RU",this.format)}switch(this.period){case s.day:return"Today";case s.week:return"This week";case s.month:return"This month"}}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),s=function(t){return t.day="day",t.week="week",t.month="month",t}(s||{});var Ja=(()=>{class t{constructor(e){this.filter=e,this.Period=s}setPeriod(e){console.log(e),this.filter.period=e}isSelected(e){return this.filter.period==e}static{this.\u0275fac=function(a){return new(a||t)(u(w))}}static{this.\u0275cmp=g({type:t,selectors:[["period-selector"]],standalone:!0,features:[y],decls:10,vars:4,consts:[[1,"form-floating","ms-auto"],["id","period","aria-label","Select period",1,"form-select","rounded-4",3,"ngModelChange","ngModel"],[3,"ngValue"],["for","period"]],template:function(a,o){a&1&&(i(0,"div",0)(1,"select",1),_("ngModelChange",function(p){return h(o.filter.period,p)||(o.filter.period=p),p}),i(2,"option",2),l(3,"Day"),n(),i(4,"option",2),l(5,"Week"),n(),i(6,"option",2),l(7,"Month"),n()(),i(8,"label",3),l(9,"Period"),n()()),a&2&&(r(),f("ngModel",o.filter.period),r(),d("ngValue",o.Period.day),r(2),d("ngValue",o.Period.week),r(2),d("ngValue",o.Period.month))},dependencies:[S,T,D,C,v,b,P],encapsulation:2})}}return t})();export{w as a,Ja as b};
