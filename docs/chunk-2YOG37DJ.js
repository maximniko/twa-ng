import{a as m,b as S,c as R,d as B}from"./chunk-ZWEVIVXB.js";import{b as E,d as N,e as V,f as $,k as M,l as j,p as q,r as w}from"./chunk-YAH7JT7V.js";import{$ as d,Ba as y,Ca as D,K as o,Ka as I,Ma as p,Oa as C,P as c,Q as f,Sa as F,Ta as x,Va as b,_ as l,ga as v,ha as h,lb as _,ma as u,mb as T,pb as k,ua as s,va as r,za as g}from"./chunk-DIXJAQJD.js";var L=(()=>{class n{isInvalid(e){return e?.invalid&&(e?.dirty||e?.touched)}errors(e){return e?.errors}validationErrors(e,t){if(!e)return null;let i=[];return e?.required&&i.push(`${t} is required.`),e?.minlength&&i.push(`Minimum length of ${t} is ${e?.minlength.requiredLength}.`),e?.maxlength&&i.push(`Maximum length of ${t} is ${e?.maxlength.requiredLength}.`),e?.email&&i.push(`${t} must be an email address.`),e?.pattern&&i.push(`${t} is not valid.`),e?.invalidPhone&&i.push(`${t} is invalid phone.`),e?.invalidType&&i.push(`${t} is invalid type.`),i.join(`
`)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=o({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,i){},encapsulation:2})}}return n})();function O(n){return a=>{let e=a.value;if(e&&typeof e=="string"){let i=e.match(/^([10]\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/);if(i){if(i&&i[0]!==e)return{invalidType:!0}}else return{invalidType:!0}}let t=m.from(e);return t instanceof m&&(t.after(n),t.after(n))?{invalidType:!0}:null}}var z=(n,a)=>({"is-invalid":n,"is-valid":a});function H(n,a){if(n&1&&(s(0,"div",5),p(1),r()),n&2){let e=D();l(),C(" ",e.validationErrors(e.dateErrors,"Date")," ")}}var re=(()=>{class n extends L{constructor(e,t,i){super(),this.formBuilder=e,this.config=t,this.calendar=i,this.today=this.calendar.getToday(),t.maxDate=this.today,t.startDate=this.today,t.navigation="select",t.placement="top"}ngOnInit(){this.parentForm.addControl("date",this.formBuilder.control(this.today,[N.required,O(this.today)]))}get date(){return this.parentForm.get("date")}get dateErrors(){return this.errors(this.date)}get isInvalidDate(){return this.isInvalid(this.date)}static{this.\u0275fac=function(t){return new(t||n)(d(q),d(R),d(S))}}static{this.\u0275cmp=o({type:n,selectors:[["transaction-date-input"]],inputs:{transactionItem:"transactionItem",parentForm:"parentForm"},standalone:!0,features:[F([],[{provide:V,useExisting:M}]),v,x],decls:6,vars:5,consts:[["d","ngbDatepicker"],[1,"form-floating","mb-3"],["id","form-date","placeholder","yyyy-mm-dd","formControlName","date","ngbDatepicker","",1,"form-control",3,"click","ngClass"],["for","form-date"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(t,i){if(t&1){let P=g();s(0,"div",1)(1,"input",2,0),y("click",function(){c(P);let A=I(2);return f(A.toggle())}),r(),s(3,"label",3),p(4,"Date"),r(),h(5,H,2,1,"div",4),r()}t&2&&(l(),u("ngClass",b(2,z,i.isInvalidDate,i.parentForm.valid)),l(4),u("ngIf",i.isInvalidDate))},dependencies:[k,_,T,w,E,$,j,B],encapsulation:2})}}return n})();export{L as a,re as b};
