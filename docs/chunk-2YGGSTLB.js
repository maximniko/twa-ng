import{a as j}from"./chunk-MDPOX252.js";import{a as A}from"./chunk-2YOG37DJ.js";import"./chunk-ZWEVIVXB.js";import{b as P,d as c,f as B,g as N,i as k,j as y,k as D,l as w,p as T,r as E}from"./chunk-YAH7JT7V.js";import{c as G}from"./chunk-RVBB37U4.js";import{$ as n,Ba as v,Ca as b,K as p,Ma as l,Oa as C,Pb as V,Ta as F,Va as M,_ as r,ga as h,ha as f,jb as S,lb as x,ma as a,mb as I,pb as _,ua as s,va as m,wa as g}from"./chunk-DIXJAQJD.js";var O=(e,u)=>({"is-invalid":e,"is-valid":u});function L(e,u){if(e&1&&(s(0,"div",6),l(1),m()),e&2){let t=b();r(),C(" ",t.validationErrors(t.maxPerMonthErrors,"Total")," ")}}var Z=(()=>{class e extends A{constructor(t,i,o,d){super(),this.formBuilder=t,this.twa=i,this.service=o,this.location=d,this.settingForm=this.formBuilder.group({}),this.routeCreator=G}ngOnInit(){let t=this.service.item();this.settingForm.addControl("maxPerMonth",this.formBuilder.control(t.maxPerMonth??1e3,[c.required,c.min(1),c.max(1e9)])),this.settingFormSubscription=this.settingForm.statusChanges.subscribe(i=>this.twa.mainButtonIsActive(i=="VALID")),this.twa.backButtonOnClick(()=>this.goBack()),this.twa.setMainButton({text:"Save",is_visible:!0,is_active:!0,has_shine_effect:!0},()=>this.save())}ngOnDestroy(){this.settingFormSubscription?.unsubscribe()}save(){if(this.settingForm.invalid)return;let t=this.settingForm.value;this.service.save(t),this.settingForm.reset(),this.goBack()}goBack(){this.location.back()}get maxPerMonth(){return this.settingForm.get("maxPerMonth")}get maxPerMonthErrors(){return this.errors(this.maxPerMonth)}get isInvalidMaxPerMonth(){return this.isInvalid(this.maxPerMonth)}static{this.\u0275fac=function(i){return new(i||e)(n(T),n(V),n(j),n(S))}}static{this.\u0275cmp=p({type:e,selectors:[["ng-component"]],standalone:!0,features:[h,F],decls:7,vars:6,consts:[[1,"accent-border","accent-border-top","accent-bg-shadow","card","rounded-5"],[1,"p-3",3,"ngSubmit","formGroup"],[1,"form-floating","mb-3"],["type","number","placeholder","Total","id","form-total","formControlName","maxPerMonth",1,"form-control",3,"ngClass"],["for","form-total"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(i,o){i&1&&(s(0,"section",0)(1,"form",1),v("ngSubmit",function(){return o.save()}),s(2,"div",2),g(3,"input",3),s(4,"label",4),l(5,"Total"),m(),f(6,L,2,1,"div",5),m()()()),i&2&&(r(),a("formGroup",o.settingForm),r(2),a("ngClass",M(3,O,o.isInvalidMaxPerMonth,o.settingForm.valid)),r(3),a("ngIf",o.isInvalidMaxPerMonth))},dependencies:[_,x,I,E,k,P,y,B,N,D,w],encapsulation:2})}}return e})();export{Z as SettingsComponent};
